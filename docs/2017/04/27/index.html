<!DOCTYPE html>  
<html>
<head>
<title>Genesis Chapter1</title>
<style>
.selectBtn{
	background:yellow;
}
.notSelectedBtn{
	background:blue;
	color:red;
}
#v{
	border:1px blue solid;
	width:50px;
	height:20px;
}
#txt{
	border:1px red solid;
	width:550px;
	height:50px;
}
</style>
</head>  
<body>  
<div id="v"></div>
<br>
<div id="txt" ></div>
<br>
<div id="debug" ></div><br>
<button onclick="xdTimer.onClickBtn(this)" type="button" id="g01-0103" class="selectBtn">1:01-1:03</button>
<button onclick="xdTimer.onClickBtn(this,'g01-0408.jpg')" type="button" id="g01-0408" class="notSelectedBtn">1:04-1:08</button>
<button onclick="xdTimer.onClickBtn(this,'g01-0912.jpg')" type="button" id="g01-0912" class="notSelectedBtn">1:09-1:12</button>
<button onclick="xdTimer.onClickBtn(this,'g01-1318.jpg')" type="button" id="g01-1318" class="notSelectedBtn">1:13-1:18</button>
<button onclick="xdTimer.onClickBtn(this,'g01-1922.jpg')" type="button" id="g01-1922" class="notSelectedBtn">1:19-1:22</button>
<button onclick="xdTimer.onClickBtn(this,'g01-2325.jpg')" type="button" id="g01-2325" class="notSelectedBtn">1:23-1:25</button>
<button onclick="xdTimer.onClickBtn(this,'g01-2628.jpg')" type="button" id="g01-2628" class="notSelectedBtn">1:26-1:28</button>
<button onclick="xdTimer.onClickBtn(this,'g01-2931.jpg')" type="button" id="g01-2931" class="notSelectedBtn">1:29-1:31</button>
<br>  
<img id="myImage" src="g01-0103.jpg" width="640" height="400">
<audio id="myPlayer" width="720" height="480" controls> 
 <source src="g01.mp3" type="audio/mp3">  
Your browser does not support HTML5 audio. 
</audio>  

 
<script>  
var vid = document.getElementById("myPlayer"); 
var s = document.getElementById("g01-0103");

 

function getCurTime() {  
   document.getElementById("DivCurTime").innerHTML= vid.currentTime; 
}   

function moveMS(ms) { 
   vid.currentTime+=ms;
   getCurTime();  
}   
function xdRun(){
	xdTimer.setV();
	xdTimer.startTime();
}
var xdTimer = {
	
	changeImage : function (o,src) {
		var image = document.getElementById('myImage');
		image.src = src;
		s.className = "notSelectedBtn";  
		s = o;
		s.className = "selectBtn";
	},
	//<!-- startTime -->
	startTime : function() { 
		var txt		= document.getElementById("txt");
		var today = new Date(); 
        var h		= today.getHours();
        var m		= today.getMinutes();
        var s		= today.getSeconds();
        var sHTML = today;
        sHTML	+= "<br>";
        sHTML	+= h += ":" + m + ":" + s; 
		txt.innerHTML = sHTML; 
		this.checkCurTime(vid.currentTime);
		var t	= setTimeout(xdRun,500);
	},
	
	//<!-- startTime -->
	checkTime : function (i){
		if (i < 10) {
			i = "0" + i;
		}
		return i;
	},
	checkCurTime : function(t){
		var debug = document.getElementById('debug');
		debug.innerHTML = t;
		var str = document.getElementById("debug").innerHTML;
		var pos = str.indexOf("35.");
		debug.innerHTML = debug.innerHTML + " pos=" + pos; 
		if(pos!=-1)
		{
			var o = document.getElementById("g01-0408");
		 	this.changeImage(o,'g01-0408.jpg');
		}
		pos = str.indexOf("71.");		 
		if(pos!=-1)
		{
			var o = document.getElementById("g01-0912");
		 	this.changeImage(o,'g01-0912.jpg');
		} 
	},
	onClickBtn : function (o) {
		var id = "g01-0103";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img);
			this.setCurTime(0);
		}
		id = "g01-0408";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img);
			this.setCurTime(35);
		}
		id = "g01-0912";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img);
			this.setCurTime(71);
		}  
		id = "g01-1318";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img);
			this.setCurTime(115);
		}  
		id = "g01-1922";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img)
		}  
		id = "g01-2325";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img)
		}  
		id = "g01-2628";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img)
		}  
		id = "g01-2931";
		if(id==o.id)
		{
			var img = id+".jpg";
			this.changeImage(o,img)
		}  
	},
	setCurTime : function (t) { 
		vid.currentTime=t;  
	},  
	setV : function() {
		var v		= document.getElementById("v");
		var sHTML	= "<a target='_blank' href=";
		sHTML		+= "'https://github.com/littleflute/blog/edit/master/docs/2017/04/27/index.html'>";
		sHTML		+= "V1.2.4";
		v.innerHTML	= sHTML;
	}
};
xdRun();

</script> 
</body> 
