<html>
<head>
<script type="text/javascript">
var blObj = {};
blObj.run = function()
{
    this.v = "v0.1.8";
    var myData = {};
    
    
    myData.nClickTimes = 0;
    myData.ajxLoad = function(href)
    {
        var xmlhttp;
        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange=function()
        {
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
               myData._2do(xmlhttp.responseText);
            }
        }
        xmlhttp.open("GET",href,true);
        xmlhttp.send();
    }
    myData._2do = function(s)
    {document.getElementById("myDiv").innerHTML=s;b1.click();}

    myData.blDiv = function (oBoss,id,html,bkClr){
        var r = document.getElementById(id);
        if(!r){
            r = document.createElement("div");
            r.id = id;
    	    r.innerHTML = html; 
            r.style.backgroundColor=bkClr?bkClr:"gray";
    	    if(oBoss!=null)oBoss.appendChild(r);
        }
        return r;
    }
    myData.blBtn = function (oBoss,id,html,bkClr){
        var r = document.getElementById(id);
        if(!r){
            r = document.createElement("button");
            r.id = id;
    	    r.innerHTML = html; 
            r.style.backgroundColor=bkClr?bkClr:"green";
    	    if(oBoss!=null)oBoss.appendChild(r);
        }
        return r;
    }
    myData.blLink = function (oBoss,id,html,href,bkClr){
        var r = document.getElementById(id);
        if(!r){
            r = document.createElement("a");
    	    var t = document.createTextNode(html);
    	    r.setAttribute("href", href);
    	    r.setAttribute("target", "_blank");
            r.id = id; 
    	    r.style.backgroundColor = bkClr?bkClr:"blue";
        }
        r.innerHTML = html; 
        oBoss.appendChild(r);
        return r;
    }
    var d1 = myData.blDiv(document.body,"d1","xau","white");
    var a0 = myData.blLink (d1,"a0",this.v,"https://github.com/littleflute/blog/edit/master/trading/xau/newdata.html","yellow");
    var aIssue = myData.blLink (d1,"aIssue ","Issue","https://github.com/littleflute/blog/issues/690","Cyan");


    var a1 = myData.blLink (d1,"a1","w3school.com.cn","http://www.w3school.com.cn/tiy/t.asp?f=ajax_get","green");
    var a2 = myData.blLink (d1,"a2","+me","https://littleflute.github.io/blog/trading/xau/newdata.html","gray");
    var b1 = myData.blBtn(d1,"b1","b1","red");
    b1.onclick = function()
    {
        myData.ajxLoad('http://api.baidao.com/api/hq/npdata.do?ids=201');
        myData.nClickTimes++;
        b1.innerHTML = myData.nClickTimes;
    }
    var d1 = myData.blDiv(document.body,"myDiv","empty");
    b1.click();

}
</script>
</head>

<body>
 
<script>
  blObj.run();
</script>
</body>
</html>
